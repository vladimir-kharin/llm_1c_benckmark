
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	//Вставить содержимое обработчика
КонецПроцедуры

&НаКлиенте
Процедура ВвестиДопРасходы(Команда)
	ПоказатьВводЧисла(Новый ОписаниеОповещения("ОбработкаВводаДопРасходов", ЭтаФорма), "Введите сумму дополнительных расходов");
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаВводаДопРасходов(ВведенноеЧисло, ДополнительныеПараметры) Экспорт
	Если ВведенноеЧисло <> Неопределено Тогда
		// Здесь будет обработка введенного числа
		// Можно добавить код для распределения введенной суммы по товарам
		Сообщить("Введены дополнительные расходы: " + ВведенноеЧисло);
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ТоварыКоличествоПриИзменении(Элемент)
	РассчитатьСуммуТекущейСтроки();
	РассчитатьСуммуВсего();
КонецПроцедуры

&НаКлиенте
Процедура ТоварыЦенаПриИзменении(Элемент)
	РассчитатьСуммуТекущейСтроки();
	РассчитатьСуммуВсего();
КонецПроцедуры

&НаКлиенте
Процедура ТоварыСуммаДопРасходыПриИзменении(Элемент)
	РассчитатьСуммуВсего();
КонецПроцедуры

&НаКлиенте
Процедура ТоварыСуммаВсегоПриИзменении(Элемент)
	// Вставить содержимое обработчика, если необходимо
КонецПроцедуры

&НаКлиенте
Процедура РассчитатьСуммуТекущейСтроки()
	ТекущаяСтрока = Элементы.Товары.ТекущиеДанные;
	Если ТекущаяСтрока <> Неопределено Тогда
		ТекущаяСтрока.Сумма = ТекущаяСтрока.Количество * ТекущаяСтрока.Цена;
		РассчитатьСуммуВсего();
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура РассчитатьСуммуВсего()
	ТекущаяСтрока = Элементы.Товары.ТекущиеДанные;
	Если ТекущаяСтрока <> Неопределено Тогда
		ТекущаяСтрока.СуммаВсего = ТекущаяСтрока.Сумма + ТекущаяСтрока.СуммаДопРасходы;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ВалютаПриИзменении(Элемент)
	// Вставить содержимое обработчика.
КонецПроцедуры
