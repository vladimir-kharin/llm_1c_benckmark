
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	//Вставить содержимое обработчика
КонецПроцедуры

&НаКлиенте
Процедура ВвестиДопРасходы(Команда)
    // Создаем диалог ввода
    Форма = Новый Формы.Диалог;
    Форма.Заголовок = "Ввод доп. расходов";
    
    // Добавляем элементы управления
    Метка = Новый ЭлементыФормы.Метка;
    Метка.Текст = "Введите сумму доп. расходов:";
    Форма.Добавить(Метка);
    
    ПолеВвода = Новый ЭлементыФормы.ПолеВвода;
    ПолеВвода.Имя = "СуммаДопРасходов";
    Форма.Добавить(ПолеВвода);
    
    // Добавляем кнопки
    Кнопки = Новый СтандартныеКнопкиФормы;
    Кнопки.Добавить(Константы.СтандартныеКнопкиФормы.ОК);
    Кнопки.Добавить(Константы.СтандартныеКнопкиФормы.Отмена);
    Форма.Кнопки = Кнопки;
    
    // Отображаем диалог
    Результат = Форма.Показать();
    
    // Обработка результата
    Если Результат = Константы.РезультатыФормы.ОК Тогда
        Объект.СуммаДопРасходы = Число(Форма.СуммаДопРасходов.Текст);
        Товары.ПересчитатьИтоги();
    КонецЕсли;
КонецПроцедуры

&НаСервере
Процедура ОбработкаДопРасходов(ДопРасходы)
    // Заготовка обработчика для дальнейшей логики
    // Например, валидация или сохранение данных
    Возврат Истина;
КонецПроцедуры

&НаКлиенте
Процедура ТоварыКоличествоПриИзменении(Элемент)
    Ряд = Элемент.Родитель.ТекущиеДанные;
    Ряд.Сумма = Ряд.Количество * Ряд.Цена;
    Ряд.СуммаВсего = Ряд.Сумма + Ряд.СуммаДопРасходы;
КонецПроцедуры

&НаКлиенте
Процедура ТоварыЦенаПриИзменении(Элемент)
    Ряд = Элемент.Родитель.ТекущиеДанные;
    Ряд.Сумма = Ряд.Количество * Ряд.Цена;
    Ряд.СуммаВсего = Ряд.Сумма + Ряд.СуммаДопРасходы;
КонецПроцедуры

&НаКлиенте
Процедура ТоварыСуммаДопРасходыПриИзменении(Элемент)
    Ряд = Элемент.Родитель.ТекущиеДанные;
    Ряд.СуммаВсего = Ряд.Сумма + Ряд.СуммаДопРасходы;
КонецПроцедуры

&НаКлиенте
Процедура ТоварыСуммаВсегоПриИзменении(Элемент)
    // Обработка изменений СуммаВсего (если требуется)
КонецПроцедуры

&НаКлиенте
Процедура ВалютаПриИзменении(Элемент)
	// Вставить содержимое обработчика.
КонецПроцедуры
