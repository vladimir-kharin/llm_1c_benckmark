
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	//Вставить содержимое обработчика
КонецПроцедуры

&НаКлиенте
Процедура ВвестиДопРасходы(Команда)
	
	ДиалогВводаЧисла = Новый ДиалогВводаЧисла;
	ДиалогВводаЧисла.Заголовок = "Введите дополнительные расходы";
	ДиалогВводаЧисла.Подпись = "Сумма дополнительных расходов:";
	ДиалогВводаЧисла.Число = 0;
	
	Если ДиалогВводаЧисла.Открыть() Тогда
		// Обработка введенного значения
		СуммаДопРасходов = ДиалогВводаЧисла.Число;
		
		// Вызов оповещения
		Сообщить("Введенная сумма дополнительных расходов: " + СуммаДопРасходов);
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ТоварыКоличествоПриИзменении(Элемент)
	ПересчитатьСуммыСтроки();
КонецПроцедуры

&НаКлиенте
Процедура ТоварыЦенаПриИзменении(Элемент)
	ПересчитатьСуммыСтроки();
КонецПроцедуры

&НаКлиенте
Процедура ТоварыСуммаДопРасходыПриИзменении(Элемент)
	ПересчитатьСуммыСтроки();
КонецПроцедуры

&НаКлиенте
Процедура ТоварыСуммаВсегоПриИзменении(Элемент)
	// Ничего не делаем, так как это вычисляемое поле
КонецПроцедуры

&НаКлиенте
Процедура ПересчитатьСуммыСтроки()
	СтрокаТабличнойЧасти = Элементы.Товары.ТекущиеДанные;
	Если СтрокаТабличнойЧасти = Неопределено Тогда
		Возврат;
	КонецЕсли;

	Количество = СтрокаТабличнойЧасти.Количество;
	Цена = СтрокаТабличнойЧасти.Цена;
	СуммаДопРасходы = СтрокаТабличнойЧасти.СуммаДопРасходы;

	СтрокаТабличнойЧасти.Сумма = Количество * Цена;
	СтрокаТабличнойЧасти.СуммаВсего = СтрокаТабличнойЧасти.Сумма + СуммаДопРасходы;
КонецПроцедуры

&НаКлиенте
Процедура ВалютаПриИзменении(Элемент)
	// Вставить содержимое обработчика.
КонецПроцедуры
