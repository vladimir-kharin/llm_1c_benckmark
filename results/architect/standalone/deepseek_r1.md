# Архитектура конфигурации 1С для учета задач разработчиков

## Основные объекты и их реквизиты

### 1. Справочники
#### **Клиенты**
- Реквизиты:
  - Наименование
  - Контактные данные (телефон, email)
  - Бюджет (плановый/фактический)
  - Примечание

#### **Разработчики**
- Реквизиты:
  - ФИО
  - Роль (разработчик, тестировщик и т.п.)
  - Ставка в час (для расчета стоимости)
  - Занятость (активен/в отпуске)

---

### 2. Документы
#### **Проект**
- Реквизиты:
  - Название
  - Клиент (ссылка на справочник)
  - Дата начала/окончания (план и факт)
  - Бюджет проекта
  - Этапы (табличная часть: название, сроки, статус)

#### **Задача**
- Реквизиты:
  - Название
  - Описание
  - Проект (ссылка)
  - Исполнитель (ссылка на Разработчика)
  - Статус (в плане, в работе, на тестировании, завершена)
  - Приоритет (высокий, средний, низкий)
  - Дата начала/окончания (план)
  - Оценка времени (часы)
  - Фактическое время (рассчитывается из УчетаВремени)
  - Стоимость для клиента (расчет: Ставка разработчика × Фактическое время)

#### **УчетВремени** (документ)
- Реквизиты:
  - Задача (ссылка)
  - Разработчик (ссылка)
  - Дата
  - Затраченное время (часы)
  - Комментарий

---

### 3. Регистры и планы видов характеристик
#### **РегистрСведенийИсторияСтатусовЗадач**
- Измерения:
  - Задача
  - Дата изменения
- Ресурсы:
  - Старый статус
  - Новый статус

#### **ПланВидовХарактеристикСтатусыЗадач**
- Предопределенные статусы: 
  - В плане
  - В работе
  - На тестировании
  - Завершена

---

## Взаимосвязи объектов
1. Проект связан с **Клиентом** (один клиент → множество проектов).
2. **Задача** привязана к Проекту (один проект → множество задач).
3. **УчетВремени** связан с Задачей и Разработчиком (один разработчик → множество записей учета).
4. Стоимость Задачи автоматически рассчитывается на основе данных из **УчетаВремени** и ставки Разработчика.

---

## Отчеты и алгоритмы формирования

### 1. Отчет по задачам проекта
- **Цель**: Анализ прогресса задач в рамках проекта.
- **Данные**:
  - Список задач с их статусами, приоритетами и временем (план/факт).
  - Визуализация: диаграмма Ганта.
- **Формирование**:
  - Группировка по проекту → фильтрация задач → вывод в таблицу с подсветкой статусов.

### 2. План-фактный анализ
- **Цель**: Сравнение плановых и фактических затрат.
- **Данные**:
  - Задачи проекта.
  - Плановое/фактическое время.
  - Отклонение в часах и процентах.
- **Формирование**:
  - Расчет отклонений через запрос к данным Задач и УчетаВремени.

### 3. Отчет по затратам для клиента
- **Цель**: Отображение стоимости работ для клиента.
- **Данные**:
  - Итоговая стоимость проекта.
  - Детализация по задачам: время, ставка разработчика, сумма.
- **Формирование**:
  - Агрегация данных из Задач (стоимость) и Проекта (бюджет).

### 4. Загрузка разработчиков
- **Цель**: Контроль загрузки сотрудников.
- **Данные**:
  - Разработчики.
  - Количество задач в работе.
  - Суммарное время за период.
- **Формирование**:
  - Группировка данных УчетаВремени по разработчикам и датам.

---

## Дополнительные механизмы
- **Уведомления**:
  - Оповещение о приближении дедлайнов (через scheduled jobs).
- **Интеграция с календарем**:
  - Отображение сроков задач в общем календаре.
- **Контроль бюджета**:
  - Блокировка учета времени при превышении бюджета проекта.
